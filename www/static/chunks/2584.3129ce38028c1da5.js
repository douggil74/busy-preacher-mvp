(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2584],{50477:()=>{},55436:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d});var r=o(95155),n=o(12115),i=o(4117);let l=i.vv.create({page:{padding:40,backgroundColor:"#ffffff",fontFamily:"Helvetica"},border:{border:"4pt solid #2c5f2d",padding:40,height:"100%"},innerBorder:{border:"1pt solid #2c5f2d",padding:30,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{fontSize:36,marginBottom:20,color:"#2c5f2d",textAlign:"center",fontFamily:"Helvetica-Bold"},subtitle:{fontSize:18,marginBottom:30,color:"#555",textAlign:"center"},presentedTo:{fontSize:14,marginBottom:10,color:"#666",textAlign:"center"},name:{fontSize:32,marginBottom:30,color:"#2c5f2d",textAlign:"center",fontFamily:"Helvetica-Bold",borderBottom:"2pt solid #2c5f2d",paddingBottom:10,width:"60%"},completion:{fontSize:14,marginBottom:40,color:"#666",textAlign:"center",lineHeight:1.6},scripture:{fontSize:12,marginTop:40,color:"#888",textAlign:"center",fontStyle:"italic",width:"80%"},date:{fontSize:12,marginTop:30,color:"#666",textAlign:"center"},logo:{fontSize:24,marginBottom:10,color:"#2c5f2d",textAlign:"center"}}),a=e=>{let{studentName:t,courseTitle:o,completionDate:n,totalLessons:a}=e;return(0,r.jsx)(i.yo,{children:(0,r.jsx)(i.YW,{size:"A4",orientation:"landscape",style:l.page,children:(0,r.jsx)(i.Ss,{style:l.border,children:(0,r.jsxs)(i.Ss,{style:l.innerBorder,children:[(0,r.jsx)(i.EY,{style:l.logo,children:"âœ"}),(0,r.jsx)(i.EY,{style:l.title,children:"Certificate of Completion"}),(0,r.jsx)(i.EY,{style:l.subtitle,children:"The Busy Christian Bible Study"}),(0,r.jsx)(i.EY,{style:l.presentedTo,children:"This certificate is presented to"}),(0,r.jsx)(i.EY,{style:l.name,children:t}),(0,r.jsxs)(i.EY,{style:l.completion,children:["For successfully completing the course","\n",'"',o,'"',"\n","consisting of ",a," comprehensive lessons"]}),(0,r.jsxs)(i.EY,{style:l.scripture,children:['"Study to shew thyself approved unto God, a workman that needeth not',"\n",'to be ashamed, rightly dividing the word of truth." - 2 Timothy 2:15']}),(0,r.jsxs)(i.EY,{style:l.date,children:["Completed on ",n]})]})})})})},s=async e=>{let t=await (0,i.x8)((0,r.jsx)(a,{...e})).toBlob(),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="".concat(e.courseTitle.replace(/\s+/g,"_"),"_Certificate.pdf"),n.click(),URL.revokeObjectURL(o)};var c=o(50186);function d(e){let{courseId:t,courseTitle:o,totalLessons:i,completedLessons:l}=e,[a,d]=(0,n.useState)(!1),[g,u]=(0,n.useState)(""),[f,h]=(0,n.useState)(!1),m=l===i,p=c.A.getCourseProgress(t),x=async()=>{if(!g.trim())return void alert("Please enter your name");h(!0);try{await s({studentName:g,courseTitle:o,completionDate:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),totalLessons:i}),c.A.saveStudentName(t,g),c.A.markCertificateDownloaded(t),d(!1)}catch(e){console.error("Error generating certificate:",e),alert("Failed to generate certificate. Please try again.")}finally{h(!1)}};return m?a?(0,r.jsxs)("div",{className:"p-6 border-2 border-green-500 rounded-lg bg-green-500/10 backdrop-blur",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-400 mb-3",children:"\uD83C\uDF89 Congratulations on completing the course!"}),(0,r.jsx)("p",{className:"text-sm text-white/80 mb-4",children:"Enter your name to download your certificate:"}),(0,r.jsx)("input",{type:"text",value:g,onChange:e=>u(e.target.value),placeholder:"Your full name",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg mb-3 text-white placeholder:text-white/40 focus:ring-2 focus:ring-green-400 focus:border-transparent focus:outline-none",onKeyPress:e=>"Enter"===e.key&&x()}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:x,disabled:f,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Generating PDF...":"Download Certificate"}),(0,r.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-white/20 rounded-lg hover:bg-white/10 text-white transition-colors",children:"Cancel"})]})]}):(0,r.jsxs)("button",{onClick:()=>{(null==p?void 0:p.studentName)&&u(p.studentName),d(!0)},className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-400 transition-colors flex items-center justify-center gap-2",children:["\uD83D\uDCDC ",(null==p?void 0:p.certificateDownloaded)?"Download Certificate Again":"Get Your Certificate"]}):null}}}]);