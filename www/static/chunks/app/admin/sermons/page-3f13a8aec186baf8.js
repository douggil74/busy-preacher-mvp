(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5424],{20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},21786:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},27738:(e,t,s)=>{"use strict";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={...t.headers,...function(){let e="b6d6eb3a47a4f760d86ac26ef70d73d49dbf552f3270e8356f18d8db52874da2";return e||console.error("[Admin API] NEXT_PUBLIC_ADMIN_API_SECRET not configured"),{Authorization:"Bearer ".concat(e)}}()};return fetch(e,{...t,headers:s})}async function r(e,t){return a(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function l(e,t){return a(e,{method:"POST",body:t})}async function n(e){return a(e,{method:"GET"})}s.d(t,{Cw:()=>n,KQ:()=>l,eM:()=>r})},33593:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(95155),r=s(12115),l=s(35626),n=s(21786);let o=(0,s(71847).A)("file-stack",[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]]);var i=s(42529),d=s(35299),c=s(20063),u=s(88371),m=s(27738);function x(){let e=(0,c.useRouter)(),[t,s]=(0,r.useState)({title:"",date:"",scripture_reference:"",content:"",summary:"",topics:"",series:""}),[x,h]=(0,r.useState)(!1),[b,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),j=async e=>{e.preventDefault(),h(!0),g(""),p(!1);try{let e=await (0,m.eM)("/api/sermons/upload",{...t,topics:t.topics.split(",").map(e=>e.trim()).filter(Boolean)}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to upload sermon");p(!0),s({title:"",date:"",scripture_reference:"",content:"",summary:"",topics:"",series:""}),setTimeout(()=>p(!1),5e3)}catch(e){g(e instanceof Error?e.message:"Upload failed")}finally{h(!1)}};return(0,a.jsx)(u.A,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/"),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,a.jsx)(l.A,{className:"w-5 h-5 text-slate-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 text-amber-500"}),"Upload Sermons"]}),(0,a.jsx)("p",{className:"text-slate-400 mt-1",children:"Add sermons to the pastoral counseling database"})]})]}),(0,a.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/50 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-1 flex items-center gap-2",children:[(0,a.jsx)(o,{className:"w-5 h-5 text-blue-400"}),"Have multiple sermon files?"]}),(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Upload hundreds of sermons at once with our bulk uploader (.txt, .doc, .docx files)"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/admin/bulk-upload"),className:"ml-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),"Bulk Upload"]})]})}),b&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500 rounded-lg flex items-center gap-3",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("p",{className:"text-green-500 font-medium",children:"Sermon uploaded successfully!"})]}),f&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-500",children:f})}),(0,a.jsxs)("form",{onSubmit:j,className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sermon Title *"}),(0,a.jsx)("input",{type:"text",required:!0,value:t.title,onChange:e=>s({...t,title:e.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., Walking by Faith"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Date Preached"}),(0,a.jsx)("input",{type:"date",value:t.date,onChange:e=>s({...t,date:e.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Scripture Reference"}),(0,a.jsx)("input",{type:"text",value:t.scripture_reference,onChange:e=>s({...t,scripture_reference:e.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 2 Corinthians 5:7"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Summary"}),(0,a.jsx)("textarea",{value:t.summary,onChange:e=>s({...t,summary:e.target.value}),rows:3,className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Brief summary of the sermon..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sermon Content *"}),(0,a.jsx)("textarea",{required:!0,value:t.content,onChange:e=>s({...t,content:e.target.value}),rows:12,className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono text-sm",placeholder:"Paste the full sermon text or transcript here..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Topics (comma-separated)"}),(0,a.jsx)("input",{type:"text",value:t.topics,onChange:e=>s({...t,topics:e.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., faith, trust, anxiety, peace"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Series Name"}),(0,a.jsx)("input",{type:"text",value:t.series,onChange:e=>s({...t,series:e.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., Life of David"})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-gradient-to-br from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"w-5 h-5 animate-spin"}),"Uploading & Generating Embeddings..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Upload Sermon"]})}),(0,a.jsx)("p",{className:"text-xs text-slate-500 text-center",children:"This will generate AI embeddings and add the sermon to the database for pastoral counseling searches."})]})]})})})}},35299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},42529:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48451:(e,t,s)=>{Promise.resolve().then(s.bind(s,33593))}},e=>{e.O(0,[4077,8371,8441,1255,7358],()=>e(e.s=48451)),_N_E=e.O()}]);