(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7816],{1150:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=s(95155),l=s(12115),r=s(24437);function a(e){return{default:e&&"default"in e?e.default:e}}s(36552);let i={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},s=(0,l.lazy)(()=>t.loader().then(a)),o=t.loading;function c(e){let a=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?l.Suspense:l.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(s,{...e})]}):(0,n.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(s,{...e})});return(0,n.jsx)(c,{...i?{fallback:a}:{},children:d})}return c.displayName="LoadableComponent",c}},8567:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=s(17828)},17828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,s(64054).createAsyncLocalStorage)()},20063:(e,t,s)=>{"use strict";var n=s(47260);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},24437:(e,t,s)=>{"use strict";function n(e){let{reason:t,children:s}=e;return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),s(24553)},26683:(e,t,s)=>{Promise.resolve().then(s.bind(s,39519))},36552:(e,t,s)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),s(95155),s(47650),s(8567),s(77278)},39519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var n=s(95155),l=s(20063),r=s(12115),a=s(52619),i=s.n(a),o=s(86278),c=s.n(o),d=s(39982),u=s(50186);let h=c()(()=>Promise.all([s.e(8247),s.e(9788),s.e(1746),s.e(4792),s.e(1029),s.e(1404),s.e(2584)]).then(s.bind(s,55436)),{loadableGenerated:{webpack:()=>[55436]},loading:()=>(0,n.jsx)("div",{className:"animate-pulse bg-gray-200 h-10 w-48 rounded"}),ssr:!1});async function m(e){let t=await fetch("/api/esv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({passage:e})}),s=await t.json();if(!t.ok)throw Error((null==s?void 0:s.error)||"Failed to fetch ESV.");return s}async function x(e,t){let s=await fetch("/api/lexplain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surface:e,book:t})}),n=await s.json();return s.ok?n:{lemma:"—",strongs:"—",plain:(null==n?void 0:n.error)||"No explanation."}}function b(){var e,t,a;let o=(0,l.useParams)(),c=(0,l.useRouter)(),b=o.courseId,[p,f]=(0,r.useState)(null),[g,j]=(0,r.useState)(1),[w,v]=(0,r.useState)([]),[N,y]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),[S,L]=(0,r.useState)({}),[P,_]=(0,r.useState)({}),[O,M]=(0,r.useState)(""),[E,W]=(0,r.useState)(""),[A,T]=(0,r.useState)(null),[B,z]=(0,r.useState)(!1),[V,F]=(0,r.useState)(!1),[I,R]=(0,r.useState)(null),[D,H]=(0,r.useState)(""),[Y,q]=(0,r.useState)(!1),[G,J]=(0,r.useState)(null),Q=(0,r.useRef)(null),[X,K]=(0,r.useState)(null),[U,Z]=(0,r.useState)(null),[$,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)(null),[en,el]=(0,r.useState)(!1),er=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=(0,d.YG)(b);if(!e)return void c.push("/courses");f(e),u.A.isCourseStarted(b)||u.A.startCourse(b);let t=u.A.getCourseProgress(b);t&&(v(t.completedLessons),y(t.notes))},[b,c]),(0,r.useEffect)(()=>{if(!b)return;let e=localStorage.getItem("bc-course-".concat(b,"-answers"));if(e)try{L(JSON.parse(e))}catch(e){console.error("Failed to load answers:",e)}},[b]);let ea=(0,r.useMemo)(()=>E?E.split(/(\s+)/).flatMap(e=>e.split(/(\b)/)):[],[E]);if(!p)return(0,n.jsxs)("div",{className:"container py-20 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),(0,n.jsx)("p",{className:"text-white/60",children:"Loading course..."})]});let ei=p.lessons.find(e=>e.number===g),eo=u.A.getCompletionPercentage(b,p.totalSessions),ec=(e,t,s)=>{let n={...S,[e]:{...S[e]||{},[t]:s}};L(n),localStorage.setItem("bc-course-".concat(b,"-answers"),JSON.stringify(n))},ed=async()=>{let{default:e}=await Promise.all([s.e(3930),s.e(5033),s.e(6241)]).then(s.bind(s,55172)),t=new e({unit:"pt",format:"letter"}),n=56,l=(e,s)=>{var l;let a=null!=(l=null==s?void 0:s.size)?l:12,i=(null==s?void 0:s.bold)?"Bold":(null==s?void 0:s.italic)?"Italic":"Normal";t.setFont("Times",i),t.setFontSize(a),r(e,500).forEach(e=>{n>678&&(t.addPage(),n=56),t.text(e,56,n),n+=a+4})},r=(e,s)=>{let n=e.split(/\s+/),l=[],r="",a=e=>t.getTextWidth(e);for(let e of n){let t=r?"".concat(r," ").concat(e):e;a(t)>s?(r&&l.push(r),r=e):r=t}return r&&l.push(r),l};l("".concat(p.title," - Study Questions & Answers"),{bold:!0,size:18}),n+=10,l(new Date().toLocaleDateString(),{italic:!0,size:10}),n+=15;let a=0;Object.values(S).forEach(e=>{Object.values(e).forEach(e=>{e&&e.trim()&&a++})}),l("Total Questions Answered: ".concat(a),{size:12}),n+=20,p.lessons.forEach(e=>{let t=S[e.number]||{};Object.values(t).some(e=>e&&e.trim())&&(l("Lesson ".concat(e.number,": ").concat(e.title),{bold:!0,size:14}),n+=6,e.questions.forEach((e,s)=>{let r=t[s];r&&r.trim()&&(l("Q".concat(s+1,": ").concat(e),{bold:!0,size:11}),n+=4,l("Answer: ".concat(r),{size:11}),n+=12)}),n+=10)}),n+=10,l("Generated by The Busy Christian",{italic:!0,size:9});let i="".concat(p.title.replace(/[^\w\s]/g,"").replace(/\s+/g,"_"),"_Study_Answers.pdf");t.save(i)},eu=()=>{Q.current&&clearTimeout(Q.current),R(null),H(""),J(null),q(!1)},eh=async()=>{let e=O.trim();e&&(T(null),z(!0),m(e).then(e=>W(e.text)).catch(e=>{var t;return T(null!=(t=null==e?void 0:e.message)?t:"Failed to fetch ESV.")}).finally(()=>z(!1)))},em=e=>{el(!0);let t=O.trim().split(/\s+/)[0];x(e,t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).then(e=>Z(e)).finally(()=>el(!1))},ex=()=>{$||(er.current&&clearTimeout(er.current),K(null),Z(null),es(null))};return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950",children:[(0,n.jsxs)("div",{className:"container py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)(i(),{href:"/courses",className:"inline-flex items-center gap-2 text-yellow-400 hover:text-yellow-300 mb-4 transition-colors",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Courses"]}),(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"text-5xl",children:(e=>{switch(e){case"spiritual-growth":return"\uD83C\uDF31";case"relationships":return"\uD83E\uDD1D";case"difficult-times":return"\uD83D\uDCAA";case"doctrine":return"\uD83D\uDCD6";case"character":return"✨";case"mission":return"\uD83C\uDF0D";default:return"\uD83D\uDCDA"}})(p.category)}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:p.title}),p.subtitle&&(0,n.jsx)("p",{className:"text-lg text-white/70 mb-3",children:p.subtitle}),(0,n.jsx)("p",{className:"text-white/60 mb-4",children:p.description}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-white/60",children:[(0,n.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.totalSessions," sessions"]}),(0,n.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p.coveragePassages.length," passages covered"]}),(0,n.jsxs)("span",{className:"inline-flex items-center gap-1 capitalize",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),p.difficulty]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[(0,n.jsx)("span",{children:"Course Progress"}),(0,n.jsxs)("span",{children:[eo,"% Complete"]})]}),(0,n.jsx)("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-400 transition-all duration-500",style:{width:"".concat(eo,"%")}})})]})]})]})})]}),(0,n.jsxs)("div",{className:"lg:hidden mb-6",children:[(0,n.jsxs)("button",{onClick:()=>C(!k),className:"w-full card flex items-center justify-between p-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg bg-yellow-400/20 border border-yellow-400/30 flex items-center justify-center flex-shrink-0",children:(0,n.jsx)("span",{className:"text-yellow-400 font-bold",children:g})}),(0,n.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"text-xs text-white/50",children:"Current Lesson"}),(0,n.jsx)("div",{className:"font-semibold text-white truncate",children:null==ei?void 0:ei.title})]})]}),(0,n.jsx)("svg",{className:"w-5 h-5 text-yellow-400 transition-transform flex-shrink-0 ".concat(k?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&(0,n.jsx)("div",{className:"mt-3 card space-y-2 max-h-[60vh] overflow-y-auto",children:p.lessons.map(e=>{let t=w.includes(e.number),s=g===e.number;return(0,n.jsxs)("button",{onClick:()=>{j(e.number),C(!1),window.scrollTo({top:0,behavior:"smooth"})},className:"w-full text-left p-3 rounded-lg border transition-all ".concat(s?"border-yellow-400 bg-yellow-400/10":t?"border-green-400/30 bg-green-400/5":"border-white/10 bg-white/5 active:bg-white/10"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsxs)("span",{className:"text-sm font-semibold ".concat(s?"text-yellow-400":t?"text-green-400":"text-white/60"),children:["Lesson ",e.number]}),t&&(0,n.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}),(0,n.jsx)("div",{className:"text-sm ".concat(s?"text-white":"text-white/70"),children:e.title})]},"lesson-mobile-".concat(e.number))})})]}),(0,n.jsxs)("div",{className:"grid lg:grid-cols-[300px_1fr] gap-6",children:[(0,n.jsxs)("div",{className:"hidden lg:block card h-fit",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4 text-white",children:"Lessons"}),(0,n.jsx)("div",{className:"space-y-2",children:p.lessons.map(e=>{let t=w.includes(e.number),s=g===e.number;return(0,n.jsxs)("button",{onClick:()=>j(e.number),className:"w-full text-left p-3 rounded-lg border transition-all ".concat(s?"border-yellow-400 bg-yellow-400/10":t?"border-green-400/30 bg-green-400/5":"border-white/10 bg-white/5 hover:bg-white/10"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsxs)("span",{className:"text-sm font-semibold ".concat(s?"text-yellow-400":t?"text-green-400":"text-white/60"),children:["Lesson ",e.number]}),t&&(0,n.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}),(0,n.jsx)("div",{className:"text-sm ".concat(s?"text-white":"text-white/70"),children:e.title})]},"lesson-".concat(e.number))})})]}),ei&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-sm text-yellow-400 font-semibold",children:["Lesson ",ei.number]}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mt-1",children:ei.title})]}),(0,n.jsxs)("span",{className:"text-sm text-white/60",children:["~",ei.estimatedMinutes," min"]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Key Passages"}),(0,n.jsx)("p",{className:"text-sm text-white/50 mb-3",children:"Hover to preview • Click to study below"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:ei.keyPassages.map((e,t)=>(0,n.jsxs)("button",{onClick:()=>{M(e),z(!0),m(e).then(e=>{var t;W(e.text),T(null),null==(t=document.getElementById("passage-study"))||t.scrollIntoView({behavior:"smooth"})}).catch(e=>{var t;return T(null!=(t=null==e?void 0:e.message)?t:"Failed to fetch ESV.")}).finally(()=>z(!1))},onMouseEnter:t=>{let s,n;return R(e),void(J((s=t.clientX,n=t.clientY+12,s+400>window.innerWidth-16&&(s=window.innerWidth-400-16),s<16&&(s=16),n+300>window.innerHeight-16&&(n=t.clientY-300-12),n<16&&(n=16),{x:s,y:n})),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{q(!0),m(e).then(e=>H(e.text)).catch(()=>H("Failed to load preview")).finally(()=>q(!1))},300))},onMouseLeave:eu,className:"inline-flex items-center gap-1 px-3 py-1 rounded-lg bg-blue-400/20 border border-blue-400/30 text-sm text-blue-300 hover:bg-blue-400/30 active:bg-blue-400/40 transition-colors cursor-pointer",children:[(0,n.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e]},"passage-".concat(t)))})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Study Questions"}),Object.keys(S).length>0&&(0,n.jsxs)("button",{onClick:ed,className:"text-sm px-3 py-1.5 rounded-lg bg-green-400/20 border border-green-400/30 text-green-300 hover:bg-green-400/30 transition-colors flex items-center gap-1",title:"Export your answers as PDF",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Answers"]})]}),(0,n.jsx)("div",{className:"space-y-4",children:ei.questions.map((e,t)=>{var s;let l=P["".concat(ei.number,"-").concat(t)],r=(null==(s=S[ei.number])?void 0:s[t])||"",a=r.trim().length>0;return(0,n.jsxs)("div",{className:"rounded-lg border transition-all ".concat(a?"border-green-400/30 bg-green-400/5":"border-white/10 bg-white/5"),children:[(0,n.jsxs)("button",{onClick:()=>((e,t)=>{let s="".concat(e,"-").concat(t);_(e=>({...e,[s]:!e[s]}))})(ei.number,t),className:"w-full flex items-start gap-3 p-4 text-left hover:bg-white/5 transition-colors",children:[(0,n.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full text-sm font-semibold flex items-center justify-center ".concat(a?"bg-green-400/20 text-green-400":"bg-yellow-400/20 text-yellow-400"),children:t+1}),(0,n.jsx)("p",{className:"text-white/80 flex-1 pr-2",children:e}),(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a&&(0,n.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,n.jsx)("svg",{className:"w-4 h-4 text-white/40 transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),l&&(0,n.jsxs)("div",{className:"px-4 pb-4",children:[(0,n.jsx)("textarea",{value:r,onChange:e=>ec(ei.number,t,e.target.value),placeholder:"Write your answer here...",className:"input min-h-[100px] text-sm",autoFocus:!0}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,n.jsx)("p",{className:"text-xs text-white/40",children:r.trim().length>0?"✓ Answer saved automatically":"Start typing to save your answer"}),r.trim().length>0&&(0,n.jsx)("button",{onClick:()=>ec(ei.number,t,""),className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"Clear Answer"})]})]})]},"question-".concat(t))})}),(0,n.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-blue-400/10 border border-blue-400/30",children:(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsxs)("span",{className:"text-blue-300",children:[Object.keys(S[ei.number]||{}).filter(e=>{let t=S[ei.number][parseInt(e)];return t&&t.trim().length>0}).length," of ",ei.questions.length," questions answered"]}),Object.keys(S[ei.number]||{}).filter(e=>{let t=S[ei.number][parseInt(e)];return t&&t.trim().length>0}).length===ei.questions.length&&(0,n.jsxs)("span",{className:"text-green-400 font-semibold flex items-center gap-1",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"All answered!"]})]})})]}),(0,n.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-green-400/10 border border-green-400/30",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-green-300 mb-2",children:"Application"}),(0,n.jsx)("p",{className:"text-white/80",children:ei.application})]}),!w.includes(ei.number)&&(0,n.jsx)("button",{onClick:()=>{u.A.completeLesson(b,g),v(e=>e.includes(g)?e:[...e,g].sort((e,t)=>e-t)),g<p.lessons.length&&j(g+1)},className:"w-full rounded-lg bg-yellow-400 text-slate-900 px-6 py-3 font-semibold hover:bg-yellow-300 active:bg-yellow-500 transition-colors",children:"Mark Lesson as Complete"}),w.includes(ei.number)&&(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-400 py-3",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,n.jsx)("span",{className:"font-semibold",children:"Lesson Complete"})]})]})})]}),100===eo&&(0,n.jsx)("section",{className:"mt-8",children:(0,n.jsx)(h,{courseId:b,courseTitle:p.title,totalLessons:p.lessons.length,completedLessons:w.length})}),(0,n.jsxs)("section",{id:"passage-study",className:"card mt-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Read Passage (ESV)"}),(0,n.jsxs)("div",{className:"grid gap-3 sm:grid-cols-[1fr_auto] sm:items-end",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"bpPassage",className:"mb-2 block text-sm text-white/80",children:"Passage (ESV)"}),(0,n.jsx)("input",{id:"bpPassage",placeholder:"e.g., John 11:25",value:O,onChange:e=>M(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eh()},className:"input"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,n.jsx)("button",{onClick:eh,disabled:B,className:"btn",children:B?"Loading…":"Get ESV"}),E&&(0,n.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(E).then(()=>{}),F(!0),setTimeout(()=>F(!1),2e3)},className:"btn",title:"Copy text",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,n.jsx)("button",{onClick:()=>{M(""),W(""),K(null),Z(null)},className:"btn",children:"Clear"})]})]}),A&&(0,n.jsx)("div",{className:"mt-3 rounded-md border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-200",children:A}),(0,n.jsx)("div",{className:"mt-5",children:E?(0,n.jsx)("article",{className:"whitespace-pre-wrap text-[1.05rem] leading-7",children:ea.map((e,t)=>/\w/.test(e)?(0,n.jsx)("span",{onMouseEnter:t=>{var s,n;let l,r;return s=t,n=e,void(!$&&(K(n),es((l=s.clientX,r=s.clientY+12,l+360>window.innerWidth-16&&(l=window.innerWidth-360-16),l<16&&(l=16),r+220>window.innerHeight-16&&(r=s.clientY-220-12),r<16&&(r=16),{x:l,y:r})),er.current&&clearTimeout(er.current),er.current=setTimeout(()=>em(n),50)))},onMouseLeave:ex,onClick:t=>((e,t)=>{if(e.preventDefault(),$&&X===t)ee(!1),ex();else{let s,n;ee(!0),K(t),es((s=e.clientX,n=e.clientY+12,s+360>window.innerWidth-16&&(s=window.innerWidth-360-16),s<16&&(s=16),n+220>window.innerHeight-16&&(n=e.clientY-220-12),n<16&&(n=16),{x:s,y:n})),em(t)}})(t,e),className:"cursor-help rounded-sm bg-transparent px-0.5 hover:bg-white/10 transition-colors",children:e},"token-".concat(t)):(0,n.jsx)("span",{children:e},"token-".concat(t)))}):(0,n.jsxs)("p",{className:"text-white/60 text-sm",children:["Click a passage above or enter a reference and click ",(0,n.jsx)("span",{className:"font-semibold",children:"Get ESV"}),". Hover any word for a simple, plain-English original language note; click to pin/unpin."]})})]}),(0,n.jsxs)("section",{className:"card mt-8",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Course Notes"}),(0,n.jsx)("textarea",{value:N,onChange:e=>y(e.target.value),placeholder:"Write your thoughts, reflections, and insights here...",className:"input min-h-[150px] mb-3"}),(0,n.jsx)("button",{onClick:()=>{u.A.saveNotes(b,N),alert("Notes saved!")},className:"btn",children:"Save Notes"})]})]}),I&&G&&(0,n.jsxs)("div",{className:"pointer-events-none fixed z-50 w-[400px] max-w-[90vw] rounded-lg border border-blue-400/30 bg-slate-950/98 p-4 shadow-2xl backdrop-blur",style:{left:G.x,top:G.y},children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-sm font-semibold text-blue-300",children:I}),(0,n.jsx)("div",{className:"text-xs text-white/50",children:"ESV"})]}),(0,n.jsx)("div",{className:"max-h-[250px] overflow-y-auto text-sm leading-relaxed text-white/90",children:Y?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-white/50",children:[(0,n.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Loading..."]}):D?(0,n.jsx)("p",{className:"whitespace-pre-wrap",children:D}):(0,n.jsx)("p",{className:"text-white/50",children:"Failed to load"})}),(0,n.jsx)("div",{className:"mt-3 border-t border-white/10 pt-2 text-xs text-white/40",children:"Click to study with word lookup below"})]}),X&&et&&(0,n.jsx)("div",{className:"hover-popover pointer-events-none fixed z-50 w-[360px] max-w-[90vw] rounded-lg border border-white/15 bg-slate-950/95 p-3 text-sm shadow-xl backdrop-blur",style:{left:et.x,top:et.y},children:(0,n.jsxs)("div",{className:"pointer-events-auto",children:[(0,n.jsxs)("div",{className:"mb-1 flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs uppercase tracking-wide text-white/60",children:"Word for Today"}),(0,n.jsx)("button",{onClick:()=>ee(e=>!e),className:"btn text-xs px-2 py-1",children:$?"Unpin":"Pin"})]}),(0,n.jsx)("div",{className:"text-base font-semibold",children:X}),(0,n.jsxs)("div",{className:"mt-1 grid grid-cols-[80px_1fr] gap-x-3 gap-y-1",children:[(0,n.jsx)("div",{className:"text-xs text-white/60",children:"Lemma"}),(0,n.jsx)("div",{className:"text-sm",children:null!=(e=null==U?void 0:U.lemma)?e:"…"}),(0,n.jsx)("div",{className:"text-xs text-white/60",children:"Strong's #"}),(0,n.jsx)("div",{className:"text-sm",children:null!=(t=null==U?void 0:U.strongs)?t:"…"})]}),(0,n.jsx)("div",{className:"mt-2 border-t border-white/10 pt-2 text-sm leading-6",children:null!=(a=null==U?void 0:U.plain)?a:en?"Thinking…":"—"})]})})]})}},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return i}});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return l?new l:new n}function a(e){return l?l.bind(e):n.bind(e)}function i(){return l?l.snapshot():function(e,...t){return e(...t)}}},86278:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=s(28140)._(s(1150));function l(e,t){var s;let l={};"function"==typeof e&&(l.loader=e);let r={...l,...t};return(0,n.default)({...r,modules:null==(s=r.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{e.O(0,[2619,2849,8441,1255,7358],()=>e(e.s=26683)),_N_E=e.O()}]);