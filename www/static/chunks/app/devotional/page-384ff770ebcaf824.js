(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6532],{27228:(t,e,s)=>{"use strict";s.d(e,{k:()=>i});class a{trackOutlineGeneration(t,e){this.addAction({type:"outline_generated",reference:t,theme:e,timestamp:Date.now()}),this.updateLastStudyDate()}trackPassageLookup(t){this.addAction({type:"passage_lookup",reference:t,timestamp:Date.now()})}trackCrossRefClick(t){this.addAction({type:"cross_ref_click",reference:t,timestamp:Date.now()})}trackNoteCreated(t,e){this.addAction({type:"note_created",reference:t,details:"".concat(e," characters"),timestamp:Date.now()})}trackNoteDeleted(t){this.addAction({type:"note_deleted",reference:t,timestamp:Date.now()})}trackDeepStudyVisit(t){this.addAction({type:"deep_study_visit",reference:t,timestamp:Date.now()})}trackWordLookup(t,e){this.addAction({type:"word_lookup",details:"".concat(t).concat(e?" in ".concat(e):""),timestamp:Date.now()})}trackPDFExport(t,e){this.addAction({type:"pdf_export",reference:t,theme:e,timestamp:Date.now()})}trackStudyLoaded(t){this.addAction({type:"study_loaded",reference:t,timestamp:Date.now()})}trackStudySaved(t){this.addAction({type:"study_saved",reference:t,timestamp:Date.now()})}trackDevotionalViewed(){this.addAction({type:"devotional_viewed",timestamp:Date.now()})}addAction(t){let e=this.getAllActions();e.unshift(t);let s=e.slice(0,this.MAX_ACTIONS);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}getAllActions(){let t=localStorage.getItem(this.STORAGE_KEY);if(!t)return[];try{return JSON.parse(t)}catch(t){return[]}}getActionsByType(t){return this.getAllActions().filter(e=>e.type===t)}getRecentActions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=Date.now()-24*t*36e5;return this.getAllActions().filter(t=>t.timestamp>e)}getMostStudiedPassages(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=this.getAllActions(),s={};return e.forEach(t=>{t.reference&&("outline_generated"===t.type||"passage_lookup"===t.type||"cross_ref_click"===t.type)&&(s[t.reference]=(s[t.reference]||0)+1)}),Object.entries(s).map(t=>{let[e,s]=t;return{reference:e,count:s}}).sort((t,e)=>e.count-t.count).slice(0,t)}getStatistics(){var t;let e=this.getAllActions(),s=this.getRecentActions(7),a=this.getRecentActions(30);return{totalActions:e.length,totalOutlines:this.getActionsByType("outline_generated").length,totalPassageLookups:this.getActionsByType("passage_lookup").length,totalNotes:this.getActionsByType("note_created").length,totalWordLookups:this.getActionsByType("word_lookup").length,totalPDFExports:this.getActionsByType("pdf_export").length,totalDeepStudies:this.getActionsByType("deep_study_visit").length,actionsLast7Days:s.length,actionsLast30Days:a.length,mostStudiedPassages:this.getMostStudiedPassages(5),lastActivity:(null==(t=e[0])?void 0:t.timestamp)||null}}updateLastStudyDate(){localStorage.setItem("bc-last-study-date",new Date().toISOString())}async checkAndNotifyProgress(){let t=this.getStatistics();1===t.totalOutlines||10===t.totalOutlines||50===t.totalOutlines||t.totalOutlines,t.totalNotes,t.totalWordLookups}sendCrisisAlert(t){console.warn("\uD83C\uDD98 CRISIS ALERT:",t)}clearAllData(){localStorage.removeItem(this.STORAGE_KEY)}constructor(){this.STORAGE_KEY="bc-study-actions",this.MAX_ACTIONS=500}}let i=new a},52606:(t,e,s)=>{Promise.resolve().then(s.bind(s,86434))},71847:(t,e,s)=>{"use strict";s.d(e,{A:()=>l});var a=s(12115);let i=t=>{let e=t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase());return e.charAt(0).toUpperCase()+e.slice(1)},o=function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return e.filter((t,e,s)=>!!t&&""!==t.trim()&&s.indexOf(t)===e).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((t,e)=>{let{color:s="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:h,...p}=t;return(0,a.createElement)("svg",{ref:e,...r,width:i,height:i,stroke:s,strokeWidth:l?24*Number(n)/Number(i):n,className:o("lucide",c),...!d&&!(t=>{for(let e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0})(p)&&{"aria-hidden":"true"},...p},[...h.map(t=>{let[e,s]=t;return(0,a.createElement)(e,s)}),...Array.isArray(d)?d:[d]])}),l=(t,e)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:l,...c}=s;return(0,a.createElement)(n,{ref:r,iconNode:e,className:o("lucide-".concat(i(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(t),l),...c})});return s.displayName=i(t),s}},86434:(t,e,s)=>{"use strict";s.d(e,{DailyDevotional:()=>h});var a=s(95155),i=s(12115),o=s(71847);let r=(0,o.A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var n=s(89559);let l=(0,o.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),c=(0,o.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var d=s(27228);function h(){let[t,e]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{y()},[]);let y=async()=>{try{o(!0);let t=await fetch("".concat(window.location.origin,"/api/devotional")),s=await t.json();s.success&&e(s)}catch(t){console.error(t)}finally{o(!1)}},g=async()=>{m(!0),await y(),m(!1)},w=()=>{let e=!h;p(e),e&&t&&d.k.checkAndNotifyProgress()};return s||!t?null:(0,a.jsxs)("section",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between -m-2 p-2",children:[(0,a.jsxs)("button",{onClick:w,className:"flex-1 flex items-center gap-2 rounded-lg hover:bg-white/5 transition-colors text-left",children:[(0,a.jsx)(r,{className:"w-4 h-4 text-yellow-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"\uD83D\uDCD6 Verse of the Day"}),(0,a.jsx)("span",{className:"text-xs text-white/50 ml-2",children:t.devotional.scripture})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,a.jsx)("button",{onClick:g,disabled:u,className:"p-1 rounded bg-white/5 hover:bg-white/10 transition-colors",title:"Refresh",children:(0,a.jsx)(n.A,{className:"w-3 h-3 text-white/60 ".concat(u?"animate-spin":"")})}),(0,a.jsx)("button",{onClick:w,className:"p-1 hover:bg-white/5 rounded transition-colors",children:h?(0,a.jsx)(l,{className:"w-4 h-4 text-white/60"}):(0,a.jsx)(c,{className:"w-4 h-4 text-white/60"})})]})]}),h&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10",children:[(0,a.jsx)("p",{className:"text-xs text-white/40 mb-3",children:t.date}),(0,a.jsx)("h4",{className:"text-base font-semibold text-white mb-2",children:t.devotional.title}),(0,a.jsx)("a",{href:"https://www.biblegateway.com/passage/?search=".concat(encodeURIComponent(t.devotional.scripture),"&version=NIV"),target:"_blank",rel:"noopener noreferrer",className:"inline-block text-sm text-yellow-400 hover:text-yellow-300 underline underline-offset-2 mb-4",children:t.devotional.scripture}),(0,a.jsx)("p",{className:"text-sm text-white/80 leading-relaxed whitespace-pre-line mb-4",children:t.devotional.content}),(0,a.jsxs)("p",{className:"text-xs text-white/40 pt-3 border-t border-white/10",children:["From ",t.devotional.author]})]})]})}},89559:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});let a=(0,s(71847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},t=>{t.O(0,[8441,1255,7358],()=>t(t.s=52606)),_N_E=t.O()}]);