(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{22907:e=>{e.exports={style:{fontFamily:"'Playfair Display', 'Playfair Display Fallback'"},className:"__className_ec52ed"}},23372:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,d5:()=>l});var a=r(4077);let s=r(32587).Ii.isNativePlatform(),o={async getItem(e){if(s){let{value:t}=await a.p.get({key:e});return t}return localStorage.getItem(e)},async setItem(e,t){s?await a.p.set({key:e,value:t}):localStorage.setItem(e,t)},async removeItem(e){s?await a.p.remove({key:e}):localStorage.removeItem(e)},async clear(){s?await a.p.clear():localStorage.clear()},async keys(){if(s){let{keys:e}=await a.p.keys();return e}return Object.keys(localStorage)},async getJSON(e){let t=await this.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},async setJSON(e,t){await this.setItem(e,JSON.stringify(t))},getItemSync:e=>s?(console.warn("getItemSync called on native platform - use async getItem instead"),null):localStorage.getItem(e),setItemSync(e,t){if(s)return void console.warn("setItemSync called on native platform - use async setItem instead");localStorage.setItem(e,t)}},l={USER_NAME:"bc-user-name",STYLE:"bc-style",SAVED_STUDIES:"bc-saved-studies",NOTES:"bc-notes",SUBSCRIBED:"bc-subscribed",SHOW_DEVOTIONAL:"bc-show-devotional",SHOW_READING_PLAN:"bc-show-reading-plan",DEVOTIONAL_LAST_SHOWN:"bc-devotional-last-shown",PRAYERS:"busyChristian_prayers",THEME:"theme",ONBOARDING_COMPLETED:"bc-onboarding-completed",LAST_SYNC:"bc-last-sync",READING_PLAN_PROGRESS:"bc-reading-plan-progress",STUDY_STREAK:"bc-study-streak",COURSES_PROGRESS:"bc-courses-progress",ADMIN_PASSWORD:"bc-admin-password"}},24705:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},29293:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,O:()=>l});var a=r(95155),s=r(12115);let o=(0,s.createContext)(void 0);function l(e){let{children:t}=e;return(0,a.jsx)(o.Provider,{value:{user:null,isAuthenticated:!1,isLoading:!1,signOut:async()=>{}},children:t})}function n(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},34521:(e,t,r)=>{"use strict";r.d(t,{GlobalSettingsManager:()=>l});var a=r(95155),s=r(12115),o=r(61500);function l(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(""),[n,i]=(0,s.useState)("Casual Devotional");return(0,s.useEffect)(()=>{let e=localStorage.getItem("bc-user-name")||"Friend",r=localStorage.getItem("bc-style")||"Casual Devotional";l(e),i(r);let a=()=>{t(!0)};return window.addEventListener("openSettings",a),()=>{window.removeEventListener("openSettings",a)}},[]),(0,a.jsx)(o.b,{isOpen:e,onClose:()=>t(!1),userName:r,currentStyle:n})}},41290:()=>{},43070:(e,t,r)=>{"use strict";r.d(t,{default:()=>N});var a=r(95155),s=r(12115),o=r(82406),l=r(61924),n=r(93043),i=r(29293),c=r(52619),d=r.n(c),m=r(15239),u=r(22907),h=r.n(u),y=r(20063);function b(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(1),[l,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),u=(0,s.useRef)(null),b=(0,y.useSearchParams)().get("reference")||"";return(0,s.useEffect)(()=>{let r=e=>{u.current&&!u.current.contains(e.target)&&t(!1)};return e&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),(0,s.useEffect)(()=>{c(!0);let e=localStorage.getItem("bc-theme-mode")||"light",t=Number(localStorage.getItem("bc-font-scale")||1);n("dark"===e),Number.isFinite(t)&&t>0&&o(t),document.documentElement.style.setProperty("--bc-font-scale",String(Number.isFinite(t)&&t>0?t:1))},[]),(0,s.useEffect)(()=>{if(!i)return;let e=document.documentElement;l?(e.style.setProperty("--bg-color","#0f1729"),e.style.setProperty("--card-bg","#1a2332"),e.style.setProperty("--card-border","#2d3f5f"),e.style.setProperty("--text-primary","#e8f2f8"),e.style.setProperty("--text-secondary","#b8d4e6"),e.style.setProperty("--accent-color","#3b82f6"),localStorage.setItem("bc-theme-mode","dark")):(e.style.setProperty("--bg-color","#f5f1e8"),e.style.setProperty("--card-bg","#ebe5d9"),e.style.setProperty("--card-border","#d4c9b3"),e.style.setProperty("--text-primary","#2d2520"),e.style.setProperty("--text-secondary","#5a4f46"),e.style.setProperty("--accent-color","#b8860b"),localStorage.setItem("bc-theme-mode","light"))},[l,i]),(0,s.useEffect)(()=>{i&&(document.documentElement.style.setProperty("--bc-font-scale",String(r)),localStorage.setItem("bc-font-scale",String(r)))},[r,i]),(0,a.jsx)("header",{className:"sticky top-0 z-40 backdrop-blur border-b",style:{backgroundColor:"color-mix(in srgb, var(--bg-color) 90%, transparent)",borderColor:"var(--card-border)"},children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)(d(),{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(m.default,{src:"/logo.png",alt:"The Busy Christian logo",width:44,height:44,className:"object-contain translate-y-[1px] no-invert",priority:!0}),(0,a.jsxs)("h1",{className:"".concat(h().className," font-semibold tracking-tight"),style:{fontSize:"calc(1.75rem * var(--bc-font-scale))",lineHeight:"1.2",color:"var(--text-primary)"},children:[(0,a.jsx)("span",{className:"italic font-medium text-[calc(1.25rem*var(--bc-font-scale))]",children:"The"})," ","Busy Christian",b&&(0,a.jsxs)("span",{className:"ml-2 text-[calc(1.05rem*var(--bc-font-scale))]",style:{color:"var(--text-secondary)"},children:["\xb7 ",b]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"hidden sm:flex rounded-xl overflow-hidden",style:{borderWidth:"1px",borderStyle:"solid",borderColor:"var(--card-border)"},children:[(0,a.jsx)("button",{className:"px-2 py-1 text-sm hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>o(e=>Math.max(.9,Math.round((e-.1)*10)/10)),"aria-label":"Decrease font size",children:"A−"}),(0,a.jsx)("div",{className:"w-px",style:{backgroundColor:"var(--card-border)"}}),(0,a.jsx)("button",{className:"px-2 py-1 text-sm hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>o(e=>Math.min(1.4,Math.round((e+.1)*10)/10)),"aria-label":"Increase font size",children:"A+"})]}),(0,a.jsx)("button",{onClick:()=>n(e=>!e),className:"rounded-xl px-3 h-9 hover:bg-white/10 text-sm flex items-center gap-1 transition-colors",style:{borderWidth:"1px",borderStyle:"solid",borderColor:"var(--card-border)",color:"var(--text-primary)"},title:l?"Switch to Papyrus Light":"Switch to Blue Dark",children:(0,a.jsx)("span",{suppressHydrationWarning:!0,children:l?"☀️ Light":"\uD83C\uDF19 Dark"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),t(!1),window.dispatchEvent(new CustomEvent("openSettings"))},className:"rounded-xl px-3 h-9 hover:bg-white/10 transition-colors",style:{borderWidth:"1px",borderStyle:"solid",borderColor:"var(--card-border)"},title:"Settings & Privacy",children:(0,a.jsxs)("svg",{className:"w-5 h-5",style:{color:"var(--text-secondary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsxs)("div",{className:"relative",ref:u,children:[(0,a.jsx)("button",{className:"text-3xl leading-none rounded-xl px-3 h-9 hover:bg-white/10 transition-colors",style:{borderWidth:"1px",borderStyle:"solid",borderColor:"var(--card-border)",color:"var(--text-primary)"},onClick:()=>t(e=>!e),"aria-haspopup":"menu","aria-expanded":e,"aria-label":"Toggle navigation menu",children:e?"\xd7":"☰"}),e&&(0,a.jsxs)("div",{role:"menu",className:"absolute right-0 mt-2 min-w-44 rounded-2xl p-1 shadow-lg",style:{backgroundColor:"var(--bg-color)",borderWidth:"1px",borderStyle:"solid",borderColor:"var(--card-border)"},children:[(0,a.jsx)(d(),{href:"/",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Home"}),(0,a.jsx)(d(),{href:"/deep-study",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Deep Study"}),(0,a.jsx)(d(),{href:"/reading-plans",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Reading Plan"}),(0,a.jsx)(d(),{href:"/library",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"My Library"}),(0,a.jsx)(d(),{href:"/courses",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Study Courses"}),(0,a.jsx)(d(),{href:"/prayer",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Prayer Center"}),(0,a.jsx)(d(),{href:"/pastoral-guidance",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Ask the Pastor"}),(0,a.jsx)("div",{className:"border-t my-1",style:{borderColor:"var(--card-border)"}}),(0,a.jsx)(d(),{href:"/about",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"About"}),(0,a.jsx)(d(),{href:"/help",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Help"}),(0,a.jsx)(d(),{href:"/contact",className:"block rounded-lg px-3 py-2 hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>t(!1),children:"Contact"})]})]})]})]})})}function p(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("header",{className:"sticky top-0 z-40 backdrop-blur border-b",style:{backgroundColor:"color-mix(in srgb, var(--bg-color) 90%, transparent)",borderColor:"var(--card-border)"},children:(0,a.jsx)("div",{className:"mx-auto max-w-3xl px-4 py-4",children:(0,a.jsx)("div",{className:"h-11 animate-pulse rounded-lg",style:{backgroundColor:"color-mix(in srgb, var(--text-primary) 5%, transparent)"}})})}),children:(0,a.jsx)(b,{})})}let g=(0,r(71847).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var x=r(65229),v=r(23372);function f(){let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{l();let e=setInterval(l,1e4);return()=>clearInterval(e)},[]);let l=async()=>{try{var e;let r=(null==(e=window.Capacitor)?void 0:e.isNativePlatform())?"https://thebusypreacher.vercel.app":"",a=await fetch("".concat(r,"/api/banner")),s=await a.json();if(s.active&&s.message){let e=s.id||s.message,r=await v.Ay.getItem("dismissed-banners");(r?JSON.parse(r):[]).includes(e)?o(!0):(t({message:s.message,id:e}),o(!1))}else t(null),o(!0)}catch(e){console.error("Error fetching banner:",e)}},n=async()=>{if(!e)return;let t=await v.Ay.getItem("dismissed-banners"),r=t?JSON.parse(t):[];r.push(e.id),await v.Ay.setItem("dismissed-banners",JSON.stringify(r)),o(!0)};return!e||r?null:(0,a.jsx)("div",{className:"bg-red-600 border-b-2 border-red-700 shadow-lg",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,a.jsx)(g,{className:"w-5 h-5 text-white"})})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("p",{className:"text-white font-bold text-sm md:text-base",children:e.message})}),(0,a.jsx)("button",{onClick:n,className:"flex-shrink-0 p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Dismiss banner",children:(0,a.jsx)(x.A,{className:"w-5 h-5 text-white"})})]})})})}let S=(0,r(32587).F3)("SplashScreen",{web:()=>r.e(1431).then(r.bind(r,71431)).then(e=>new e.SplashScreenWeb)});function N(e){let{children:t}=e;return(0,s.useEffect)(()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;async function t(){try{let e=(0,o.Hk)(),t=(0,l.ms)();if(0===e.length&&0===Object.keys(t).length)return;let r={queue:e,metrics:t,timestamp:new Date().toISOString()};(await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?((0,o.Un)(),(0,l.zU)()):console.warn("⚠️ Sync failed, keeping data for retry")}catch(e){console.error("❌ Background sync error:",e)}}setTimeout(t,1e4),setInterval(t,60*e*6e4)}(),window.Capacitor&&setTimeout(async()=>{await S.hide()},1e4)},[]),(0,a.jsx)(i.O,{children:(0,a.jsxs)(n.a,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(f,{}),(0,a.jsx)("main",{className:"pt-16",style:{backgroundColor:"var(--bg-color)"},children:t})]})})}},54587:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}},61924:(e,t,r)=>{"use strict";r.d(t,{Gm:()=>s,ms:()=>o,zU:()=>l});let a="busyChristian_metrics";function s(e){let t=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem(a)||"{}");r[t]=r[t]||{},r[t][e]=(r[t][e]||0)+1,localStorage.setItem(a,JSON.stringify(r))}function o(){return JSON.parse(localStorage.getItem(a)||"{}")}function l(){localStorage.setItem(a,"{}")}},82406:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>n,Ll:()=>o,M_:()=>l,Un:()=>i});let a="busyChristian_prayedFor",s="busyChristian_syncQueue";function o(e){return JSON.parse(localStorage.getItem(a)||"{}")[e]||0}function l(e){let t=JSON.parse(localStorage.getItem(a)||"{}");t[e]=(t[e]||0)+1,localStorage.setItem(a,JSON.stringify(t));let r=JSON.parse(localStorage.getItem(s)||"[]");return r.push({id:e,action:"prayed",timestamp:Date.now()}),localStorage.setItem(s,JSON.stringify(r)),t[e]}function n(){return JSON.parse(localStorage.getItem(s)||"[]")}function i(){localStorage.setItem(s,"[]")}},99613:(e,t,r)=>{Promise.resolve().then(r.bind(r,43070)),Promise.resolve().then(r.bind(r,34521)),Promise.resolve().then(r.t.bind(r,54587,23)),Promise.resolve().then(r.t.bind(r,24705,23)),Promise.resolve().then(r.t.bind(r,41290,23))}},e=>{e.O(0,[3555,6096,8557,1741,2619,4077,5239,1867,8441,1255,7358],()=>e(e.s=99613)),_N_E=e.O()}]);